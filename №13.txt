#include <iostream>
#include <math.h>
#include <ctime>
using namespace std;


struct Stack {
	int value, min = 101,dst = 0;
	Stack *next;
};

int counter = 0;
Stack *Add(Stack *node, int value) {
	counter++;
	Stack *new_node = new Stack;
	new_node->value = value;
	new_node->next = node;

	 if(!node || value < node->min)
	{
		new_node->min = value;
	}
	else {	
		new_node->min = node->min;
		new_node->dst = node->dst + 1;
	}
	return new_node;
}


void DelPenultimate(Stack *node)
{
	Stack *t = node->next;
	node->next = node->next->next;
	delete t;
}

int g = 0;
void Print_stack(Stack *node) {
	if (!node) return;
	cout << " Element number : " << g << ":\t" << node->value << endl;
	g++;
	Print_stack(node->next);
}

void DeleteStack(Stack *node) {
	counter = 0;
	if (!node) return;

	DeleteStack(node->next);
	delete node;
}


int main() {

	const int size = 15;
	Stack *node = nullptr;

	srand(time(NULL));
	for (int i = 0; i < size; i++)
	{
		node = Add(node, rand() % 101 - 50);
	}
	
	Print_stack(node);
	cout << endl;
	cout << "The dst is : " << node->dst << endl;
	DelPenultimate(node);
	Print_stack(node);
	DeleteStack(node->next);
	system("pause");
	return 0;
}
